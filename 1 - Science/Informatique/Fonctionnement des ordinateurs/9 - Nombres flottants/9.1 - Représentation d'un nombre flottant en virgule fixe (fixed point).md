---
tags:
  - Note_done
  - Informatique
source: UMons - Fonctionnement des ordinateurs
---

Link :
_Fonctionnement des ordinateurs : Repr√©sentation des nombres naturels & entiers_
1. [[../2 - Repr√©sentation des nombres naturels & entiers/2.3 - Notation positionnelle g√©n√©ralis√©e|2.3 - Notation positionnelle g√©n√©ralis√©e]]
2. [[../2 - Repr√©sentation des nombres naturels & entiers/2.3.1 - Repr√©sentation d√©cimale|2.3.1 - Repr√©sentation d√©cimale]]
3. [[../2 - Repr√©sentation des nombres naturels & entiers/2.3.2 - Repr√©sentation binaire|2.3.2 - Repr√©sentation binaire]]
4. [[../2 - Repr√©sentation des nombres naturels & entiers/2.3.2.1 - Bit|2.3.2.1 - Bit]]

**Introduction** : Au del√† de la repr√©sentation des entiers ? 
Jusqu'√† pr√©sent, nous nous sommes focalis√©s sur la repr√©sentation de nombres entiers. Comment √©tendre cette repr√©sentation aux nombres r√©els ? 
\
_M√©thodologie_ : 
1. Nous allons commencer par aborder la repr√©sentation en virgule fixe, une extension simple de la repr√©sentation enti√®re que nous avons vue jusqu'ici. 
2. Ensuite, nous passerons √† la repr√©sentation en virgule flottante, repr√©sentation support√©e par la plupart des processeurs modernes. Nous nous int√©resserons en particulier au standard IEEE 754. 

_Limites_ :
Finalement, nous identifierons un certain nombre de limites de la repr√©sentation en virgule flottante qu'un informaticien / math√©maticien doit absolument comprendre

# D√©finition
Dans la repr√©sentation en virgule fixe, une s√©quence $w$ de $N+M$ bits est utilis√©e :
- $N$ bits de poids fort repr√©sentent la $\color{red}\text{partie enti√®re}$ 
- $M$ bits de poids faible repr√©sentent la $\color{green}\text{partie fractionnelle}$ 

**Illustration** : $$w={\color{red}w_{N-1}\cdots w_0}\underbrace{}_{\text{Position de la virgule}}{\color{green}w_{-1}\cdots w_{-M}}$$
Le nombre $x$ repr√©sent√© (binaire $\to$ d√©cimal) est obtenu par $$x=\sum^{N-1}_{i=-M}w_i.2^i$$ Nous ne repr√©sentons que des nombres positifs, mais il est ais√© de modifier la repr√©sentation pour supporter les nombres n√©gatifs. En effet, chaque bit de la partie fractionnelle a un poids √©gal √† une fraction fixe dont le d√©nominateur est un exposant de 2.
**Illustration** : ![[../../../../0 - Dossier Template/Dossier IMage/Pasted image 20240429121636.png]]
#### Exemple
Avec $\color{red}N=8$ pour la partie enti√®re et $\color{green}M=4$ pour la partie fractionnelle, que repr√©sente le mot $w = {\color{red}01001100}{\color{green}0011}$ ? $$\begin{aligned}x&={\color{red}2 ^6+2^3+2 ^2}+{\color{green}2^{-3}+2^{-4}}\\&={\color{red}64+8+4}+{\color{green}\frac{1}{8}+\frac{1}{16}}\\&=76,1875\end{aligned}$$
### Algorithme - Conversion partie fractionnelle en binaire
Hypoth√®se : $$0\le x < 1$$multiplications successives par 2 + test de la partie enti√®re
```python
w = "" 
bits = 0 
while x > 0 and bits < M: 
	x = x * 2 
	bits += 1 
	if int(x) > 0: # retourne la partie enti√®re
		x = x ‚Äì 1 
		w = w + "1" 
	else: 
		w = w + "0"
```
On a que `bits = 0`, `bits < M` et `bits += 1` qui limite le nombre de bits de la repr√©sentation
**Illustration** : ![[../../../../0 - Dossier Template/Dossier IMage/Pasted image 20240429122453.png]]
## Propri√©t√© 1
Il est possible de r√©-organiser sensiblement l'√©quation pr√©c√©dente afin d'exprimer le nombre repr√©sent√© sous forme d'une fraction dont le d√©nominateur est fix√© : $$\begin{aligned}x&=\sum^{N-1}_{i=-M}w_i.2^i\\&=\sum^{N+M-1}_{i= 0}w_{i-M}.2^{i-M}\\&=\frac{1}{{\color{orange}2^M}}.\left({\color{purple}\sum^{N+M-1}_{i=0}w_{i-M}.2^{i}}\right)\\&={\color{purple}m}.{\color{orange}2^{-M}}\end{aligned}$$ o√π
1. ${\color{purple}\sum^{N+M-1}_{i=0}w_{i-M}.2^{i}}$ : Num√©rateur variable appel√© la ‚Äúmantisse‚Äù ($\color{purple}m$) repr√©sent√© sur $N+M$ bits
2. ${\color{orange}2^M}$ : D√©nominateur fixe d√©pendant uniquement de $M$ 

\
_Remarque_ :
1. la valeur de $M$ (fixe) dicte quelle est la ‚Äúposition de la virgule"

#### Exemple
Avec $\color{red}N=8$ pour la partie enti√®re et $\color{green}M=4$ pour la partie fractionnelle, que repr√©sente le mot $w = {\color{red}01001100}{\color{green}0011}$ ? $$\begin{aligned}
\text{x=}& \frac{1}{2^M}.\left(\sum_{i=0}^{N+M-1}w_{i-M}.2^i\right)  \\
\text{=}& \frac1{2^4}.\left({\color{red}2^{10}+2^7+2^6}+{\color{green}2^1+2^0}\right)  \\
=& \frac{1024+128+64+2+1}{16}  \\
\text{=}& \frac{1219}{16}  \\
\text{=}& \text{76,1875} 
\end{aligned}$$
## Propri√©t√© 2 - Limites de repr√©sentabilit√©
Etant donn√©s $N$ et $M$, on a que :
- Limites de repr√©sentabilit√© : $$\frac{2^{N+M}-1}{2^M}$$ (o√π tous les bits valent 1)
- Plus petit nombre non-nul repr√©sentable : $$\frac{1}{2^M}$$ (Seul le bit de poids le plus faible vaut 1) et c‚Äôest aussi le plus petit √©cart entre deux nombres repr√©sentables exactement.

#### Exemple : avec $N=8$ et $M=4$ 
1. Plus grand = 255,9375 i.e. ${\color{red}11111111}{\color{green}1111}$ 
2. Plus petit = 0,0625 i.e. ${\color{red}00000000}{\color{green}0001}$ 

### Inconv√©nient 1
La repr√©sentation en virgule fixe ne permet pas de repr√©senter tous les nombres r√©els dans un intervalle, comme cela √©tait possible pour les entiers.
\
Il existe une infinit√© de r√©els entre deux entiers alors que pour une taille de mots $N+M$, il est possible de repr√©senter seulement $2^{N+M}$ nombres diff√©rents !
#### Observation - Repr√©sentation d'un sous-ensemble fini de r√©els 
La figure ci-dessous illustre les nombres repr√©sentables en virgule fixe dans l'intervalle $$[0, 1[$$ avec diff√©rentes tailles $M$ pour la partie fractionnelle. Seulement $2^M$ nombres sont repr√©sentables dans cet intervalle !
**Illustration** : ![[../../../../0 - Dossier Template/Dossier IMage/Pasted image 20240429133348.png]]
Avec une taille de partie fractionnelle $M$ donn√©e, on ne peut repr√©senter les nombres dans les intervalles $$] k.2^{-M}, (k+1).2^{-M} [$$ pour $k$ entier tel que $$0 ‚â§ k < 2^M$$ Ces intervalles de nombres non repr√©sentables sont repr√©sent√©s par la partie hachur√©e dans la figure ci-dessous.
**Illustration** : ![[../../../../0 - Dossier Template/Dossier IMage/Pasted image 20240429134336.png]]
Quelque soit la taille de la partie fractionnelle $M$, il est impossible de repr√©senter certains nombres. On ne peut en repr√©senter qu'une approximation. C‚Äôest le cas de la fraction $1/3$ illustr√©e ci-dessous !
**Illustration** : ![[../../../../0 - Dossier Template/Dossier IMage/Pasted image 20240429134909.png]]
#### Quelle est la plus proche approximation de $1/3$ pour $M$ fini donn√© ? (Repr√©sentation approximative)
Soit $x$ un nombre √† repr√©senter. 
Son approximation dans la repr√©sentation choisie sera le nombre le plus proche de $x$ repr√©sentable exactement. Utiliser une approximation lors de la repr√©sentation d‚Äôun nombre engendre une erreur de repr√©sentation. On exprime souvent cette erreur avec les mesures suivantes :
1. **Erreur vraie** : $$\Delta_x=x-\hat x$$ Il s'agit de la diff√©rence entre la valeur exacte d'un nombre r√©el $ùë•$ et sa repr√©sentation dans le syst√®me informatique, not√©e $\hat ùë•$. Cette erreur mesure simplement la diff√©rence entre la valeur r√©elle et la valeur approximative utilis√©e dans le calcul.
2. **Erreur absolue** : $$|\Delta_x|=|x-\hat x|$$ C'est la valeur absolue de l'erreur vraie. Elle indique la magnitude de l'√©cart entre la valeur exacte et la valeur approximative, sans se soucier de la direction de cet √©cart.
3. **Erreur relative** : $$\epsilon_x=\frac{|x-\hat x|}{|x|}$$ Cette mesure prend en compte la proportion de l'erreur par rapport √† la valeur exacte de $ùë•$. Elle est calcul√©e en divisant l'erreur absolue par la valeur absolue de $ùë•$. Cela permet de mettre en √©vidence √† quel point l'erreur est significative par rapport √† la magnitude du nombre repr√©sent√©. Dans le contexte des ordinateurs et des calculs num√©riques, l'erreur relative est souvent consid√©r√©e comme une mesure plus informative que l'erreur absolue, car elle met en √©vidence la pr√©cision relative de la repr√©sentation d'un nombre par rapport √† sa taille : 
	1. Une erreur relative faible indique une bonne pr√©cision dans la repr√©sentation du nombre, 
	2. tandis qu'une erreur relative √©lev√©e peut indiquer une perte de pr√©cision significative, en particulier pour les nombres tr√®s grands ou tr√®s petits.

Plus la taille de la partie fractionnelle $M$ augmente, plus l‚Äôerreur d‚Äôapproximation Œîx diminue.

| $M$ | Plus petit intervalle repr√©sentable o√π se situe $x=1/3$ | Approximation $\hat x$ | Erreur absolue $\Delta_x$ | Repr√©sentation $w$ |
| --- | ------------------------------------------------------- | ---------------------- | ------------------------- | ------------------ |
| 0   | $$[{\color{green}0};1]$$                                | 0                      | 1/3                       | `0`                |
| 1   | $$[0;{\color{green}1/2}]$$                              | 0,5                    | 1/6                       | `0.1`              |
| 2   | $$[{\color{green}1/4};1/2]$$                            | 0,25                   | 1/12                      | `0.01`             |
| 3   | $$[1/4;{\color{green}3/8}]$$                            | 0,375                  | 1/24                      | `0.011`            |
| 4   | $$[{\color{green}5/16};3/8]$$                           | 0,3125                 | 1/48                      | `0.0101`           |
| 5   | $$[5/16;{\color{green}11/32}]$$                         | 0,34375                | 1/96                      | `0.01011`          |
| 6   | $$[{\color{green}21/64};11/32]$$                        | 0,328125               | 1/192                     | `0.010101`         |
| 7   | $$[21/64;{\color{green}32/128}]$$                       | 0,3359375              | 1/384                     | `0.0101011`        |
| 8   | $$[{\color{green}85/256};32/128]$$                      | 0,33203125             | 1/768                     | `0.01010101`       |
**Illustration** : ![[../../../../0 - Dossier Template/Dossier IMage/Pasted image 20240429142128.png]]
### Inconv√©nient 2
**D√©finition** : Les bits significatifs sont tous les bits qui suivent le premier bit non-nul, ce dernier y compris. 

#### Exemple :
Consid√©rons deux nombres repr√©sent√©s en virgule fixe avec $N=8$ et $M=4$ 
**Illustration** : ![[../../../../0 - Dossier Template/Dossier IMage/Pasted image 20240429142808.png]]
_Observation_ : en repr√©sentation en virgule fixe, les grands nombres ont plus de bits significatifs que les petits nombres. Pour les petits nombres, les bits de poids fort de la repr√©sentation ne sont pas utilis√©s efficacement.