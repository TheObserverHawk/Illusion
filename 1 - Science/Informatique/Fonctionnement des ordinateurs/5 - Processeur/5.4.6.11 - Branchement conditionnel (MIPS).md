---
## Metadata
tags : 
 - Note_done Note_WIP Informatique
 - 
source : UMons - Fonctionnement des ordinateurs
---

Link :
_Fonctionnement des ordinateurs : Processeur_
1. [[5.4 - Architecture MIPS]]
2. [[5.4.6 - Jeu d’instructions (MIPS)]]
3. [[5.4.6.3.6 - Instructions de type-I (MIPS)]]
4. [[5.4.6.8 - Instruction de contrôle de flux (MIPS)]]

**Introduction**
Lorsqu’elles sont associées au test d'une condition, les instructions de saut deviennent des branchements conditionnels. Le branchement est effectué ou non selon le résultat du test.
\
Le jeu d'instructions MIPS supporte quelques instructions permettant d'effectuer des branchements sur base des conditions suivantes
1. égalité ou non-égalité de 2 registres
2. comparaison d'un registre avec 0

Ces instructions sont de type-I et effectuent des branchements relatifs.

# Définition
Un branchement relatif est effectué en ajoutant au registre `PC` incrémenté de 4 la valeur immédiate (`offset`) de l'instruction après décalage de 2 vers la gauche et extension signée : $$PC\leftarrow PC+4+\text{s-ext}\left({\color{orange}\text{offset}}\| 0^2\right)$$
_Remarque_ :
1. Déplacements compris entre -131 072 $(-2^{17})$ et 131 068 $(2^{17})$ 
2. Une décalage de $2(\times 4)$ assure que le `PC` reste un multiple de 4 

## Comportement du branchement conditionnel 
Une instruction de branchement conditionnel aura le comportement suivant :
1. Si la condition est vraie alors $$PC\leftarrow PC+4+\text{s-ext}\left({\color{orange}\text{offset}}\| 0^2\right)$$
2. Sinon $$PC\leftarrow PC+4$$

## Liste des instructions MIPS de branchement conditionnel 
| Instruction en langage d’assemblage MIPS                   | Description                                                              | Opcode   | rt      |
| ---------------------------------------------------------- | ------------------------------------------------------------------------ | -------- | ------- |
| Branch on Equal `BEQ  rs, rt, offset`                      | $\text{if }GPR\left[rs\right]=GPR\left[rt\right]\text{ then branch}$     | `000100` |         |
| Branch on Not Equal `BNE  rs, rt, offset`                  | $\text{if }GPR\left[rs\right]\neq GPR\left[rt\right]\text{ then branch}$ | `000101` |         |
| Branch on Greater than or Equal to Zero `BGEZ  rs, offset` | $\text{if }GPR\left[rs\right]\ge 0\text{ then branch}$                   | `000001` | `00100` |
| Branch on Greater Than Zero `BGTZ  rs, offset`             | $\text{if }GPR\left[rs\right]> 0\text{ then branch}$                     | `000111` |         |
| Branch on Less than or Equal to Zero `BLEZ  rs, offset`    | $\text{if }GPR\left[rs\right]\le 0\text{ then branch}$                   | `000110` |         |
| Branch on Less Than Zero `BLTZ  rs, offset`                | $\text{if }GPR\left[rs\right]< 0\text{ then branch}$                     | `000001` | `00000` |
_Remarque_ :
1. `BGEZ` et `BLTZ` ont le même OpCode et sont distinguées sur base des bits 20:16 (`rt`)